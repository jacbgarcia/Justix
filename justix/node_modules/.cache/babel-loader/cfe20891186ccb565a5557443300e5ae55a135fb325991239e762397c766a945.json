{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vinic\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\React project\\\\justix\\\\src\\\\pages\\\\Home\\\\FTribunais\\\\FeedTribunais.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link, useParams } from 'react-router-dom';\nimport ContainerHome from '../../../components/ContainerHome/index';\nimport styles from '../../../pages/Login/Login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedTribunais = () => {\n  _s();\n  const {\n    id_tribunal\n  } = useParams();\n  const [comments, setComments] = useState([]);\n  const [averageRating, setAverageRating] = useState(0);\n  const [tribunalData, setTribunalData] = useState(null); // Estado para os dados do tribunal\n\n  useEffect(() => {\n    if (id_tribunal) {\n      fetchComments();\n      fetchAverageRating();\n      fetchTribunalData(); // Chama a nova função\n    }\n  }, [id_tribunal]);\n  const fetchComments = async () => {\n    try {\n      const res = await axios.get(`http://localhost:3001/av_tribunais/${id_tribunal}`);\n      setComments(res.data);\n    } catch (error) {\n      console.error('Erro ao buscar comentários:', error);\n    }\n  };\n  const fetchAverageRating = async () => {\n    try {\n      const res = await axios.get(`http://localhost:3001/tribunais_avaliacao/${id_tribunal}`);\n      setAverageRating(res.data.media_avaliacao || 0);\n    } catch (error) {\n      console.error('Erro ao calcular média de avaliações:', error);\n    }\n  };\n  const fetchTribunalData = async () => {\n    try {\n      const res = await axios.get(`http://localhost:3001/tribunais/${id_tribunal}`);\n      setTribunalData(res.data);\n    } catch (error) {\n      console.error('Erro ao buscar dados do tribunal:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ContainerHome, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [id_tribunal && /*#__PURE__*/_jsxDEV(Link, {\n        to: `/login`,\n        className: styles.feedbtn,\n        children: \"Realizar seu Feedback?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), tribunalData &&\n      /*#__PURE__*/\n      // Renderiza os dados do tribunal\n      _jsxDEV(\"div\", {\n        className: styles.tribunalInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: tribunalData.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:3001/uploads/tribunais/${tribunalData.imagem}`,\n          alt: tribunalData.nome,\n          style: {\n            maxWidth: '100%',\n            height: 'auto'\n          } // Estilos para ajustar a imagem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: tribunalData.descricao\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.feedtxt,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"M\\xE9dia1: \\u2605 \", averageRating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Coment\\xE1rios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), comments.length > 0 ? comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: styles.CSection,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.commentContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: comment.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), \" Anonimous \", comment.id_usuario, \" - \\u2605 \", comment.avaliacao]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.commentarea,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: comment.comentario\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Data: \", new Date(comment.data_criacao).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ainda sem coment\\xE1rios.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(FeedTribunais, \"NeAYC2s61bQaQ208JRi7MjVgi4M=\", false, function () {\n  return [useParams];\n});\n_c = FeedTribunais;\nexport default FeedTribunais;\nvar _c;\n$RefreshReg$(_c, \"FeedTribunais\");","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useParams","ContainerHome","styles","jsxDEV","_jsxDEV","FeedTribunais","_s","id_tribunal","comments","setComments","averageRating","setAverageRating","tribunalData","setTribunalData","fetchComments","fetchAverageRating","fetchTribunalData","res","get","data","error","console","media_avaliacao","children","to","className","feedbtn","fileName","_jsxFileName","lineNumber","columnNumber","tribunalInfo","nome","src","imagem","alt","style","maxWidth","height","descricao","feedtxt","length","map","comment","index","CSection","commentContainer","id_usuario","avaliacao","commentarea","comentario","Date","data_criacao","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/vinic/OneDrive/Área de Trabalho/React project/justix/src/pages/Home/FTribunais/FeedTribunais.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport ContainerHome from '../../../components/ContainerHome/index';\r\nimport styles from '../../../pages/Login/Login.module.css';\r\n\r\nconst FeedTribunais = () => {\r\n    const { id_tribunal } = useParams();\r\n    const [comments, setComments] = useState([]);\r\n    const [averageRating, setAverageRating] = useState(0);\r\n    const [tribunalData, setTribunalData] = useState(null); // Estado para os dados do tribunal\r\n\r\n    useEffect(() => {\r\n        if (id_tribunal) {\r\n            fetchComments();\r\n            fetchAverageRating();\r\n            fetchTribunalData(); // Chama a nova função\r\n        }\r\n    }, [id_tribunal]);\r\n\r\n    const fetchComments = async () => {\r\n        try {\r\n            const res = await axios.get(`http://localhost:3001/av_tribunais/${id_tribunal}`);\r\n            setComments(res.data);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar comentários:', error);\r\n        }\r\n    };\r\n\r\n    const fetchAverageRating = async () => {\r\n        try {\r\n            const res = await axios.get(`http://localhost:3001/tribunais_avaliacao/${id_tribunal}`);\r\n            setAverageRating(res.data.media_avaliacao || 0);\r\n        } catch (error) {\r\n            console.error('Erro ao calcular média de avaliações:', error);\r\n        }\r\n    };\r\n\r\n    const fetchTribunalData = async () => {\r\n        try {\r\n            const res = await axios.get(`http://localhost:3001/tribunais/${id_tribunal}`);\r\n            setTribunalData(res.data);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar dados do tribunal:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <ContainerHome>\r\n            <div>\r\n                {id_tribunal && (\r\n                    <Link to={`/login`} className={styles.feedbtn}>\r\n                        Realizar seu Feedback?\r\n                    </Link>\r\n                )}\r\n                {tribunalData && ( // Renderiza os dados do tribunal\r\n                    <div className={styles.tribunalInfo}>\r\n                        <h2>{tribunalData.nome}</h2>\r\n                        <img \r\n                            src={`http://localhost:3001/uploads/tribunais/${tribunalData.imagem}`} \r\n                            alt={tribunalData.nome} \r\n                            style={{ maxWidth: '100%', height: 'auto' }} // Estilos para ajustar a imagem\r\n                        />\r\n                        <p>{tribunalData.descricao}</p> {/* Supondo que 'descricao' seja um campo da entidade */}\r\n                    </div>\r\n                )}\r\n                <div className={styles.feedtxt}>\r\n                    <h3>Média1: ★ {averageRating}</h3>\r\n                    <h4>Comentários</h4>\r\n                </div>\r\n                {comments.length > 0 ? (\r\n                    comments.map((comment, index) => (\r\n                        <section className={styles.CSection} key={index}>\r\n                            <div className={styles.commentContainer}>\r\n                                <p>\r\n                                    <strong>{comment.nome}</strong> Anonimous {comment.id_usuario} - \r\n                                    ★ {comment.avaliacao}\r\n                                </p>\r\n                                <div className={styles.commentarea}>\r\n                                    <p>{comment.comentario}</p>\r\n                                </div>\r\n                                <p>Data: {new Date(comment.data_criacao).toLocaleDateString()}</p>\r\n                            </div>\r\n                        </section>\r\n                    ))\r\n                ) : (\r\n                    <p>Ainda sem comentários.</p>\r\n                )}\r\n            </div>\r\n        </ContainerHome>\r\n    );\r\n};\r\n\r\nexport default FeedTribunais;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}