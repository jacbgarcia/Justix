{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import axios from'axios';import{Star,StarHalf}from'lucide-react';import styles from\"../../Home/FForuns/Feed.module.css\";import HeaderLggd from\"../../../components/HeaderLggd\";import Footer from\"../../../components/Footer/index\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='http://localhost:3001';const UFeedForuns=()=>{const{id_forum}=useParams();const[comments,setComments]=useState([]);const[averageRatings,setAverageRatings]=useState({av_atendimento:0,av_organizacao:0,av_digital:0,av_infraestrutura:0,av_seguranca:0});const[weightedAverage,setWeightedAverage]=useState(0);const[forumData,setForumData]=useState(null);const[ratingStats,setRatingStats]=useState({weighted:{5:0,4:0,3:0,2:0,1:0},av_atendimento:{5:0,4:0,3:0,2:0,1:0},av_organizacao:{5:0,4:0,3:0,2:0,1:0},av_digital:{5:0,4:0,3:0,2:0,1:0},av_infraestrutura:{5:0,4:0,3:0,2:0,1:0},av_seguranca:{5:0,4:0,3:0,2:0,1:0}});const[selectedCategory,setSelectedCategory]=useState('weighted');const[filteredRating,setFilteredRating]=useState(null);const ratingCategories={weighted:{name:'Média',weight:0},av_atendimento:{name:'Qualidade do atendimento',weight:5},av_organizacao:{name:'Organização do Serviço',weight:4},av_digital:{name:'Tecnologia',weight:3},av_infraestrutura:{name:'Infraestrutura',weight:2},av_seguranca:{name:'Segurança',weight:1}};const calculateWeightedRating=data=>{let weightedSum=0;let totalWeight=0;Object.entries(ratingCategories).forEach(_ref=>{let[category,{weight}]=_ref;if(category!=='weighted'&&data[category]){weightedSum+=data[category]*weight;totalWeight+=weight;}});return totalWeight>0?weightedSum/totalWeight:0;};useEffect(()=>{if(id_forum){fetchComments();fetchForumData();fetchWeightedAverage();}},[id_forum]);const fetchWeightedAverage=async()=>{try{const res=await axios.get(`${API_BASE_URL}/foruns_avaliacao/${id_forum}`);const rating=res.data.media_ponderada?parseFloat(res.data.media_ponderada):0;setWeightedAverage(rating);}catch(error){console.error('Erro ao buscar média ponderada:',error);setWeightedAverage(0);}};const fetchComments=async()=>{try{const res=await axios.get(`${API_BASE_URL}/av_foruns/${id_forum}`);const commentsData=res.data;setComments(commentsData);calculateRatingStats(commentsData);calculateAverageRatings(commentsData);}catch(error){console.error('Erro ao buscar comentários:',error);}};const calculateRatingStats=commentsData=>{const newStats={...ratingStats};// Calcula stats para categorias normais\nObject.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){const stats={5:0,4:0,3:0,2:0,1:0};commentsData.forEach(comment=>{const rating=Math.floor(comment[category]);if(stats[rating]!==undefined){stats[rating]++;}});newStats[category]=stats;}});// Calcula stats para weighted\nconst weightedStats={5:0,4:0,3:0,2:0,1:0};commentsData.forEach(comment=>{const weightedRating=calculateWeightedRating(comment);const roundedRating=Math.floor(weightedRating);if(weightedStats[roundedRating]!==undefined){weightedStats[roundedRating]++;}});newStats.weighted=weightedStats;setRatingStats(newStats);};const calculateAverageRatings=commentsData=>{const sums={};const counts={};Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){sums[category]=0;counts[category]=0;}});commentsData.forEach(comment=>{Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'&&comment[category]){sums[category]+=comment[category];counts[category]++;}});});const averages={};Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){averages[category]=counts[category]>0?sums[category]/counts[category]:0;}});setAverageRatings(averages);};const fetchForumData=async()=>{try{const res=await axios.get(`${API_BASE_URL}/foruns/${id_forum}`);setForumData(res.data);}catch(error){console.error('Erro ao buscar dados do forum:',error);}};const getImagemUrl=imagem=>{if(!imagem)return null;if(imagem.startsWith('/uploads/foruns/')){return`${API_BASE_URL}${imagem}`;}return`${API_BASE_URL}/uploads/foruns/${imagem}`;};const RatingBar=_ref2=>{let{rating,count,totalReviews}=_ref2;const percentage=totalReviews>0?count/totalReviews*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingbar,onClick:()=>setFilteredRating(rating),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:styles.ratingnumber,children:rating}),/*#__PURE__*/_jsx(\"div\",{className:styles.progressbar,children:/*#__PURE__*/_jsx(\"div\",{className:styles.progressfill,style:{width:`${percentage}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:styles.ratingcount,children:count})]});};const RatingStars=_ref3=>{let{rating}=_ref3;const ratingNumber=parseFloat(rating)||0;const fullStars=Math.floor(ratingNumber);const hasHalfStar=ratingNumber%1>=0.5;return/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingstars,children:[[...Array(fullStars)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:styles.starfilled},i)),hasHalfStar&&/*#__PURE__*/_jsx(StarHalf,{className:styles.starhalf}),[...Array(5-fullStars-(hasHalfStar?1:0))].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:styles.starempty},`empty-${i}`))]});};const getDisplayedRating=()=>{if(selectedCategory==='weighted'){return calculateWeightedRating(averageRatings).toFixed(1);}return averageRatings[selectedCategory].toFixed(1);};const CategorySelector=()=>/*#__PURE__*/_jsx(\"div\",{className:styles.categorySelector,children:/*#__PURE__*/_jsxs(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),className:styles.categorySelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"weighted\",children:\"M\\xE9dia\"}),Object.entries(ratingCategories).filter(_ref4=>{let[key]=_ref4;return key!=='weighted';}).map(_ref5=>{let[key,{name,weight}]=_ref5;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[name,\" (Peso \",weight,\")\"]},key);})]})});const totalReviews=comments.length;const filteredComments=filteredRating?comments.filter(comment=>{if(selectedCategory==='weighted'){const weightedRating=calculateWeightedRating(comment);return Math.floor(weightedRating)===filteredRating;}return comment[selectedCategory]&&Math.floor(comment[selectedCategory])===filteredRating;}):comments;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderLggd,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.feedcontainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.feedheader,children:forumData&&/*#__PURE__*/_jsx(\"h1\",{className:styles.maintitle,children:forumData.nome})}),forumData&&/*#__PURE__*/_jsxs(\"div\",{className:styles.foruminfo,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.forumimagecontainer,children:forumData.imagem?/*#__PURE__*/_jsx(\"img\",{src:getImagemUrl(forumData.imagem),alt:forumData.nome,className:styles.forumimage}):/*#__PURE__*/_jsx(\"div\",{className:styles.noimageplacement,children:\"Sem imagem dispon\\xEDvel\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.forumdetails,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.addressinfo,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.addresstitle,children:\"Informa\\xE7\\xF5es de Localiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.addresstext,children:[forumData.endereco,/*#__PURE__*/_jsx(\"br\",{}),forumData.cidade,\" - \",forumData.estado,/*#__PURE__*/_jsx(\"br\",{}),\"CEP: \",forumData.cep]})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.forumdescription,children:forumData.descricao})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingscard,children:[/*#__PURE__*/_jsx(CategorySelector,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingsoverview,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.averageratingcontainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.hugerating,children:getDisplayedRating()}),/*#__PURE__*/_jsx(RatingStars,{rating:selectedCategory==='weighted'?calculateWeightedRating(averageRatings):averageRatings[selectedCategory]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.totalreviews,children:[totalReviews.toLocaleString(),\" avalia\\xE7\\xF5es\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.ratingdistribution,children:[5,4,3,2,1].map(rating=>/*#__PURE__*/_jsx(RatingBar,{rating:rating,count:ratingStats[selectedCategory][rating],totalReviews:totalReviews},rating))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.feedbackbuttoncontainer,children:/*#__PURE__*/_jsx(Link,{to:`/user/foruns/${id_forum}/feedback/add`,className:styles.feedbackbutton,children:\"Realizar seu Feedback\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.commentssection,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.commentstitle,children:\"Coment\\xE1rios e Avalia\\xE7\\xF5es\"}),filteredRating&&/*#__PURE__*/_jsx(\"div\",{className:styles.clearfilter,children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilteredRating(null),children:\"Limpar filtro\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.commentslist,children:filteredComments.length>0?filteredComments.map((comment,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.commentcard,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.commentheader,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.commentuser,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.useravatar,children:comment.nome?comment.nome[0].toUpperCase():`${comment.id_usuario}`}),/*#__PURE__*/_jsx(\"span\",{className:styles.username,children:comment.nome||`anonimo${comment.id_usuario}`})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratinginfo,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.ratingcategory,children:[ratingCategories[selectedCategory].name,\":\"]}),/*#__PURE__*/_jsx(RatingStars,{rating:selectedCategory==='weighted'?calculateWeightedRating(comment):comment[selectedCategory]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.commenttext,children:comment.comentario}),/*#__PURE__*/_jsx(\"div\",{className:styles.commentdate,children:new Date(comment.data_criacao).toLocaleDateString('pt-BR',{year:'numeric',month:'long',day:'numeric'})})]},index)):/*#__PURE__*/_jsx(\"p\",{className:styles.nocomments,children:\"Nenhum coment\\xE1rio dispon\\xEDvel.\"})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default UFeedForuns;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","Star","StarHalf","styles","HeaderLggd","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","UFeedForuns","id_forum","comments","setComments","averageRatings","setAverageRatings","av_atendimento","av_organizacao","av_digital","av_infraestrutura","av_seguranca","weightedAverage","setWeightedAverage","forumData","setForumData","ratingStats","setRatingStats","weighted","selectedCategory","setSelectedCategory","filteredRating","setFilteredRating","ratingCategories","name","weight","calculateWeightedRating","data","weightedSum","totalWeight","Object","entries","forEach","_ref","category","fetchComments","fetchForumData","fetchWeightedAverage","res","get","rating","media_ponderada","parseFloat","error","console","commentsData","calculateRatingStats","calculateAverageRatings","newStats","keys","stats","comment","Math","floor","undefined","weightedStats","weightedRating","roundedRating","sums","counts","averages","getImagemUrl","imagem","startsWith","RatingBar","_ref2","count","totalReviews","percentage","className","ratingbar","onClick","style","cursor","children","ratingnumber","progressbar","progressfill","width","ratingcount","RatingStars","_ref3","ratingNumber","fullStars","hasHalfStar","ratingstars","Array","map","_","i","starfilled","starhalf","starempty","getDisplayedRating","toFixed","CategorySelector","categorySelector","value","onChange","e","target","categorySelect","filter","_ref4","key","_ref5","length","filteredComments","feedcontainer","feedheader","maintitle","nome","foruminfo","forumimagecontainer","src","alt","forumimage","noimageplacement","forumdetails","addressinfo","addresstitle","addresstext","endereco","cidade","estado","cep","forumdescription","descricao","ratingscard","ratingsoverview","averageratingcontainer","hugerating","totalreviews","toLocaleString","ratingdistribution","feedbackbuttoncontainer","to","feedbackbutton","commentssection","commentstitle","clearfilter","commentslist","index","commentcard","commentheader","commentuser","useravatar","toUpperCase","id_usuario","username","ratinginfo","ratingcategory","commenttext","comentario","commentdate","Date","data_criacao","toLocaleDateString","year","month","day","nocomments"],"sources":["C:/Users/vinic/OneDrive/Área de Trabalho/React project/justix/src/pages/HomeUser/UForuns/UFeedForuns.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Star, StarHalf } from 'lucide-react';\r\nimport styles from \"../../Home/FForuns/Feed.module.css\";\r\nimport HeaderLggd from \"../../../components/HeaderLggd\";\r\nimport Footer from \"../../../components/Footer/index\";\r\n\r\nconst API_BASE_URL = 'http://localhost:3001';\r\n\r\nconst UFeedForuns = () => {\r\n    const { id_forum } = useParams();\r\n    const [comments, setComments] = useState([]);\r\n    const [averageRatings, setAverageRatings] = useState({\r\n        av_atendimento: 0,\r\n        av_organizacao: 0,\r\n        av_digital: 0,\r\n        av_infraestrutura: 0,\r\n        av_seguranca: 0\r\n    });\r\n    const [weightedAverage, setWeightedAverage] = useState(0);\r\n    const [forumData, setForumData] = useState(null);\r\n    const [ratingStats, setRatingStats] = useState({\r\n        weighted: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_atendimento: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_organizacao: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_digital: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_infraestrutura: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_seguranca: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 }\r\n    });\r\n    const [selectedCategory, setSelectedCategory] = useState('weighted');\r\n    const [filteredRating, setFilteredRating] = useState(null);\r\n\r\n    const ratingCategories = {\r\n        weighted: { name: 'Média', weight: 0 },\r\n        av_atendimento: { name: 'Qualidade do atendimento', weight: 5 },\r\n        av_organizacao: { name: 'Organização do Serviço', weight: 4 },\r\n        av_digital: { name: 'Tecnologia', weight: 3 },\r\n        av_infraestrutura: { name: 'Infraestrutura', weight: 2 },\r\n        av_seguranca: { name: 'Segurança', weight: 1 }\r\n    };\r\n\r\n    const calculateWeightedRating = (data) => {\r\n        let weightedSum = 0;\r\n        let totalWeight = 0;\r\n\r\n        Object.entries(ratingCategories).forEach(([category, { weight }]) => {\r\n            if (category !== 'weighted' && data[category]) {\r\n                weightedSum += data[category] * weight;\r\n                totalWeight += weight;\r\n            }\r\n        });\r\n\r\n        return totalWeight > 0 ? weightedSum / totalWeight : 0;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (id_forum) {\r\n            fetchComments();\r\n            fetchForumData();\r\n            fetchWeightedAverage();\r\n        }\r\n    }, [id_forum]);\r\n\r\n    const fetchWeightedAverage = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/foruns_avaliacao/${id_forum}`);\r\n            const rating = res.data.media_ponderada ? parseFloat(res.data.media_ponderada) : 0;\r\n            setWeightedAverage(rating);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar média ponderada:', error);\r\n            setWeightedAverage(0);\r\n        }\r\n    };\r\n\r\n    const fetchComments = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/av_foruns/${id_forum}`);\r\n            const commentsData = res.data;\r\n\r\n            setComments(commentsData);\r\n            calculateRatingStats(commentsData);\r\n            calculateAverageRatings(commentsData);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar comentários:', error);\r\n        }\r\n    };\r\n\r\n    const calculateRatingStats = (commentsData) => {\r\n        const newStats = { ...ratingStats };\r\n        \r\n        // Calcula stats para categorias normais\r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                const stats = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n                commentsData.forEach(comment => {\r\n                    const rating = Math.floor(comment[category]);\r\n                    if (stats[rating] !== undefined) {\r\n                        stats[rating]++;\r\n                    }\r\n                });\r\n                newStats[category] = stats;\r\n            }\r\n        });\r\n    \r\n        // Calcula stats para weighted\r\n        const weightedStats = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n        commentsData.forEach(comment => {\r\n            const weightedRating = calculateWeightedRating(comment);\r\n            const roundedRating = Math.floor(weightedRating);\r\n            if (weightedStats[roundedRating] !== undefined) {\r\n                weightedStats[roundedRating]++;\r\n            }\r\n        });\r\n        newStats.weighted = weightedStats;\r\n    \r\n        setRatingStats(newStats);\r\n    };\r\n\r\n    const calculateAverageRatings = (commentsData) => {\r\n        const sums = {};\r\n        const counts = {};\r\n        \r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                sums[category] = 0;\r\n                counts[category] = 0;\r\n            }\r\n        });\r\n\r\n        commentsData.forEach(comment => {\r\n            Object.keys(ratingCategories).forEach(category => {\r\n                if (category !== 'weighted' && comment[category]) {\r\n                    sums[category] += comment[category];\r\n                    counts[category]++;\r\n                }\r\n            });\r\n        });\r\n\r\n        const averages = {};\r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                averages[category] = counts[category] > 0 ? \r\n                    sums[category] / counts[category] : 0;\r\n            }\r\n        });\r\n\r\n        setAverageRatings(averages);\r\n    };\r\n\r\n    const fetchForumData = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/foruns/${id_forum}`);\r\n            setForumData(res.data);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar dados do forum:', error);\r\n        }\r\n    };\r\n\r\n    const getImagemUrl = (imagem) => {\r\n        if (!imagem) return null;\r\n        if (imagem.startsWith('/uploads/foruns/')) {\r\n            return `${API_BASE_URL}${imagem}`;\r\n        }\r\n        return `${API_BASE_URL}/uploads/foruns/${imagem}`;\r\n    };\r\n\r\n    const RatingBar = ({ rating, count, totalReviews }) => {\r\n        const percentage = totalReviews > 0 ? (count / totalReviews) * 100 : 0;\r\n        return (\r\n            <div\r\n                className={styles.ratingbar}\r\n                onClick={() => setFilteredRating(rating)}\r\n                style={{ cursor: 'pointer' }}\r\n            >\r\n                <span className={styles.ratingnumber}>{rating}</span>\r\n                <div className={styles.progressbar}>\r\n                    <div\r\n                        className={styles.progressfill}\r\n                        style={{ width: `${percentage}%` }}\r\n                    />\r\n                </div>\r\n                <span className={styles.ratingcount}>{count}</span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const RatingStars = ({ rating }) => {\r\n        const ratingNumber = parseFloat(rating) || 0;\r\n        const fullStars = Math.floor(ratingNumber);\r\n        const hasHalfStar = ratingNumber % 1 >= 0.5;\r\n\r\n        return (\r\n            <div className={styles.ratingstars}>\r\n                {[...Array(fullStars)].map((_, i) => (\r\n                    <Star key={i} className={styles.starfilled} />\r\n                ))}\r\n                {hasHalfStar && <StarHalf className={styles.starhalf} />}\r\n                {[...Array(5 - fullStars - (hasHalfStar ? 1 : 0))].map((_, i) => (\r\n                    <Star key={`empty-${i}`} className={styles.starempty} />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getDisplayedRating = () => {\r\n        if (selectedCategory === 'weighted') {\r\n            return calculateWeightedRating(averageRatings).toFixed(1);\r\n        }\r\n        return averageRatings[selectedCategory].toFixed(1);\r\n    };\r\n\r\n    const CategorySelector = () => (\r\n        <div className={styles.categorySelector}>\r\n            <select \r\n                value={selectedCategory}\r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className={styles.categorySelect}\r\n            >\r\n                <option value=\"weighted\">\r\n                    Média\r\n                </option>\r\n                {Object.entries(ratingCategories)\r\n                    .filter(([key]) => key !== 'weighted')\r\n                    .map(([key, { name, weight }]) => (\r\n                        <option key={key} value={key}>\r\n                            {name} (Peso {weight})\r\n                        </option>\r\n                    ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    const totalReviews = comments.length;\r\n    const filteredComments = filteredRating\r\n        ? comments.filter(comment => {\r\n            if (selectedCategory === 'weighted') {\r\n                const weightedRating = calculateWeightedRating(comment);\r\n                return Math.floor(weightedRating) === filteredRating;\r\n            }\r\n            return comment[selectedCategory] && \r\n                Math.floor(comment[selectedCategory]) === filteredRating;\r\n        })\r\n        : comments;\r\n\r\n    return (\r\n        <>\r\n            <HeaderLggd />\r\n            <div className={styles.feedcontainer}>\r\n                <div className={styles.feedheader}>\r\n                    {forumData && (\r\n                        <h1 className={styles.maintitle}>{forumData.nome}</h1>\r\n                    )}\r\n                </div>\r\n\r\n                {forumData && (\r\n                    <div className={styles.foruminfo}>\r\n                        <div className={styles.forumimagecontainer}>\r\n                            {forumData.imagem ? (\r\n                                <img\r\n                                    src={getImagemUrl(forumData.imagem)}\r\n                                    alt={forumData.nome}\r\n                                    className={styles.forumimage}\r\n                                />\r\n                            ) : (\r\n                                <div className={styles.noimageplacement}>\r\n                                    Sem imagem disponível\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className={styles.forumdetails}>\r\n                            <div className={styles.addressinfo}>\r\n                                <h3 className={styles.addresstitle}>Informações de Localização</h3>\r\n                                <p className={styles.addresstext}>\r\n                                    {forumData.endereco}\r\n                                    <br />\r\n                                    {forumData.cidade} - {forumData.estado}\r\n                                    <br />\r\n                                    CEP: {forumData.cep}\r\n                                </p>\r\n                            </div>\r\n                            <p className={styles.forumdescription}>{forumData.descricao}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className={styles.ratingscard}>\r\n                    <CategorySelector />\r\n                    <div className={styles.ratingsoverview}>\r\n                        <div className={styles.averageratingcontainer}>\r\n                            <div className={styles.hugerating}>\r\n                                {getDisplayedRating()}\r\n                            </div>\r\n                            <RatingStars rating={\r\n                                selectedCategory === 'weighted' \r\n                                    ? calculateWeightedRating(averageRatings)\r\n                                    : averageRatings[selectedCategory]\r\n                            } />\r\n                            <div className={styles.totalreviews}>\r\n                                {totalReviews.toLocaleString()} avaliações\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.ratingdistribution}>\r\n                            {[5, 4, 3, 2, 1].map(rating => (\r\n                                <RatingBar\r\n                                    key={rating}\r\n                                    rating={rating}\r\n                                    count={ratingStats[selectedCategory][rating]}\r\n                                    totalReviews={totalReviews}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.feedbackbuttoncontainer}>\r\n                    <Link to={`/user/foruns/${id_forum}/feedback/add`} className={styles.feedbackbutton}>\r\n                        Realizar seu Feedback\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={styles.commentssection}>\r\n                    <h2 className={styles.commentstitle}>Comentários e Avaliações</h2>\r\n\r\n                    {filteredRating && (\r\n                        <div className={styles.clearfilter}>\r\n                            <button onClick={() => setFilteredRating(null)}>\r\n                                Limpar filtro\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className={styles.commentslist}>\r\n                        {filteredComments.length > 0 ? (\r\n                            filteredComments.map((comment, index) => (\r\n                                <div key={index} className={styles.commentcard}>\r\n                                    <div className={styles.commentheader}>\r\n                                        <div className={styles.commentuser}>\r\n                                            <div className={styles.useravatar}>\r\n                                                {comment.nome ? comment.nome[0].toUpperCase() : \r\n                                                    `${comment.id_usuario}`}\r\n                                            </div>\r\n                                            <span className={styles.username}>\r\n                                                {comment.nome || `anonimo${comment.id_usuario}`}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className={styles.ratinginfo}>\r\n                                            <span className={styles.ratingcategory}>\r\n                                                {ratingCategories[selectedCategory].name}:\r\n                                            </span>\r\n                                            <RatingStars rating={\r\n                                                selectedCategory === 'weighted' \r\n                                                    ? calculateWeightedRating(comment)\r\n                                                    : comment[selectedCategory]\r\n                                            } />\r\n                                        </div>\r\n                                    </div>\r\n                                    <p className={styles.commenttext}>{comment.comentario}</p>\r\n                                    <div className={styles.commentdate}>\r\n                                        {new Date(comment.data_criacao).toLocaleDateString('pt-BR', {\r\n                                            year: 'numeric',\r\n                                            month: 'long',\r\n                                            day: 'numeric'\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p className={styles.nocomments}>Nenhum comentário disponível.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UFeedForuns;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}