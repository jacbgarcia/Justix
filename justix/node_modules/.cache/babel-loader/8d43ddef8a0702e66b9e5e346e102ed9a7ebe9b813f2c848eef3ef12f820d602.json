{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import axios from'axios';import{Star,StarHalf}from'lucide-react';import styles from\"../../Home/FTribunais/Feed.module.css\";import Header from\"../../../components/Header\";import Footer from\"../../../components/Footer/index\";import Cadastro from'../../Cadastro';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL='http://localhost:3001';const FeedTribunais=()=>{const{id_tribunal}=useParams();const[comments,setComments]=useState([]);const[isCadastroOpen,setIsCadastroOpen]=useState(false);const[averageRatings,setAverageRatings]=useState({av_eficiencia:0,av_qualidade:0,av_infraestrutura:0,av_tecnologia:0,av_gestao:0,av_transparencia:0,av_sustentabilidade:0});const[weightedAverage,setWeightedAverage]=useState(0);const[tribunalData,setTribunalData]=useState(null);const[ratingStats,setRatingStats]=useState({weighted:{5:0,4:0,3:0,2:0,1:0},av_eficiencia:{5:0,4:0,3:0,2:0,1:0},av_qualidade:{5:0,4:0,3:0,2:0,1:0},av_infraestrutura:{5:0,4:0,3:0,2:0,1:0},av_tecnologia:{5:0,4:0,3:0,2:0,1:0},av_gestao:{5:0,4:0,3:0,2:0,1:0},av_transparencia:{5:0,4:0,3:0,2:0,1:0},av_sustentabilidade:{5:0,4:0,3:0,2:0,1:0}});const[selectedCategory,setSelectedCategory]=useState('weighted');const[filteredRating,setFilteredRating]=useState(null);const ratingCategories={weighted:{name:'Média',weight:0},av_eficiencia:{name:'Eficiência',weight:5},av_qualidade:{name:'Qualidade',weight:4},av_infraestrutura:{name:'Infraestrutura',weight:3},av_tecnologia:{name:'Tecnologia',weight:3},av_gestao:{name:'Gestão',weight:2},av_transparencia:{name:'Transparência',weight:2},av_sustentabilidade:{name:'Sustentabilidade',weight:1}};const calculateWeightedRating=data=>{let weightedSum=0;let totalWeight=0;Object.entries(ratingCategories).forEach(_ref=>{let[category,{weight}]=_ref;if(category!=='weighted'&&data[category]){weightedSum+=data[category]*weight;totalWeight+=weight;}});return totalWeight>0?weightedSum/totalWeight:0;};useEffect(()=>{if(id_tribunal){fetchComments();fetchTribunalData();fetchWeightedAverage();}},[id_tribunal]);const fetchWeightedAverage=async()=>{try{const res=await axios.get(`${API_BASE_URL}/tribunais_avaliacao/${id_tribunal}`);const rating=res.data.media_ponderada?parseFloat(res.data.media_ponderada):0;setWeightedAverage(rating);}catch(error){console.error('Erro ao buscar média ponderada:',error);setWeightedAverage(0);}};const fetchComments=async()=>{try{const res=await axios.get(`${API_BASE_URL}/av_tribunais/${id_tribunal}`);const commentsData=res.data;setComments(commentsData);calculateRatingStats(commentsData);calculateAverageRatings(commentsData);}catch(error){console.error('Erro ao buscar comentários:',error);}};const calculateRatingStats=commentsData=>{const newStats={...ratingStats};// Calcula stats para categorias normais\nObject.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){const stats={5:0,4:0,3:0,2:0,1:0};commentsData.forEach(comment=>{const rating=Math.floor(comment[category]);if(stats[rating]!==undefined){stats[rating]++;}});newStats[category]=stats;}});// Calcula stats para weighted\nconst weightedStats={5:0,4:0,3:0,2:0,1:0};commentsData.forEach(comment=>{const weightedRating=calculateWeightedRating(comment);const roundedRating=Math.floor(weightedRating);if(weightedStats[roundedRating]!==undefined){weightedStats[roundedRating]++;}});newStats.weighted=weightedStats;setRatingStats(newStats);};const calculateAverageRatings=commentsData=>{const sums={};const counts={};Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){sums[category]=0;counts[category]=0;}});commentsData.forEach(comment=>{Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'&&comment[category]){sums[category]+=comment[category];counts[category]++;}});});const averages={};Object.keys(ratingCategories).forEach(category=>{if(category!=='weighted'){averages[category]=counts[category]>0?sums[category]/counts[category]:0;}});setAverageRatings(averages);};const fetchTribunalData=async()=>{try{const res=await axios.get(`${API_BASE_URL}/tribunais/${id_tribunal}`);setTribunalData(res.data);}catch(error){console.error('Erro ao buscar dados do tribunal:',error);}};const getImagemUrl=imagem=>{if(!imagem)return null;if(imagem.startsWith('/uploads/tribunais/')){return`${API_BASE_URL}${imagem}`;}return`${API_BASE_URL}/uploads/tribunais/${imagem}`;};const RatingBar=_ref2=>{let{rating,count,totalReviews}=_ref2;const percentage=totalReviews>0?count/totalReviews*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingbar,onClick:()=>setFilteredRating(rating),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:styles.ratingnumber,children:rating}),/*#__PURE__*/_jsx(\"div\",{className:styles.progressbar,children:/*#__PURE__*/_jsx(\"div\",{className:styles.progressfill,style:{width:`${percentage}%`}})}),/*#__PURE__*/_jsx(\"span\",{className:styles.ratingcount,children:count})]});};const RatingStars=_ref3=>{let{rating}=_ref3;const ratingNumber=parseFloat(rating)||0;const fullStars=Math.floor(ratingNumber);const hasHalfStar=ratingNumber%1>=0.5;return/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingstars,children:[[...Array(fullStars)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:styles.starfilled},i)),hasHalfStar&&/*#__PURE__*/_jsx(StarHalf,{className:styles.starhalf}),[...Array(5-fullStars-(hasHalfStar?1:0))].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:styles.starempty},`empty-${i}`))]});};const getDisplayedRating=()=>{if(selectedCategory==='weighted'){return calculateWeightedRating(averageRatings).toFixed(1);}return averageRatings[selectedCategory].toFixed(1);};const CategorySelector=()=>/*#__PURE__*/_jsx(\"div\",{className:styles.categorySelector,children:/*#__PURE__*/_jsxs(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),className:styles.categorySelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"weighted\",children:\"M\\xE9dia\"}),Object.entries(ratingCategories).filter(_ref4=>{let[key]=_ref4;return key!=='weighted';}).map(_ref5=>{let[key,{name,weight}]=_ref5;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[name,\" (Peso \",weight,\")\"]},key);})]})});const totalReviews=comments.length;const filteredComments=filteredRating?comments.filter(comment=>{if(selectedCategory==='weighted'){const weightedRating=calculateWeightedRating(comment);return Math.floor(weightedRating)===filteredRating;}return comment[selectedCategory]&&Math.floor(comment[selectedCategory])===filteredRating;}):comments;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.feedcontainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.feedheader,children:tribunalData&&/*#__PURE__*/_jsx(\"h1\",{className:styles.maintitle,children:tribunalData.nome})}),tribunalData&&/*#__PURE__*/_jsxs(\"div\",{className:styles.tribunalinfo,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.tribunalimagecontainer,children:tribunalData.imagem?/*#__PURE__*/_jsx(\"img\",{src:getImagemUrl(tribunalData.imagem),alt:tribunalData.nome,className:styles.tribunalimage}):/*#__PURE__*/_jsx(\"div\",{className:styles.noimageplacement,children:\"Sem imagem dispon\\xEDvel\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tribunaldetails,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.addressinfo,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.addresstitle,children:\"Informa\\xE7\\xF5es de Localiza\\xE7\\xE3o\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.addresstext,children:[tribunalData.endereco,/*#__PURE__*/_jsx(\"br\",{}),tribunalData.cidade,\" - \",tribunalData.estado,/*#__PURE__*/_jsx(\"br\",{}),\"CEP: \",tribunalData.cep]})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.tribunaldescription,children:tribunalData.descricao})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingscard,children:[/*#__PURE__*/_jsx(CategorySelector,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratingsoverview,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.averageratingcontainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.hugerating,children:getDisplayedRating()}),/*#__PURE__*/_jsx(RatingStars,{rating:selectedCategory==='weighted'?calculateWeightedRating(averageRatings):averageRatings[selectedCategory]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.totalreviews,children:[totalReviews.toLocaleString(),\" avalia\\xE7\\xF5es\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.ratingdistribution,children:[5,4,3,2,1].map(rating=>/*#__PURE__*/_jsx(RatingBar,{rating:rating,count:ratingStats[selectedCategory][rating],totalReviews:totalReviews},rating))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.feedbackbuttoncontainer,children:/*#__PURE__*/_jsx(Link,{onClick:()=>setIsCadastroOpen(true),className:styles.feedbackbutton,children:\"Realizar seu Feedback\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.commentssection,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.commentstitle,children:\"Coment\\xE1rios e Avalia\\xE7\\xF5es\"}),filteredRating&&/*#__PURE__*/_jsx(\"div\",{className:styles.clearfilter,children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilteredRating(null),children:\"Limpar filtro\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.commentslist,children:filteredComments.length>0?filteredComments.map((comment,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.commentcard,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.commentheader,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.commentuser,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.useravatar,children:comment.nome?comment.nome[0].toUpperCase():`${comment.id_usuario}`}),/*#__PURE__*/_jsx(\"span\",{className:styles.username,children:comment.nome||`anonimo${comment.id_usuario}`})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.ratinginfo,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.ratingcategory,children:[ratingCategories[selectedCategory].name,\":\"]}),/*#__PURE__*/_jsx(RatingStars,{rating:selectedCategory==='weighted'?calculateWeightedRating(comment):comment[selectedCategory]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.commenttext,children:comment.comentario}),/*#__PURE__*/_jsx(\"div\",{className:styles.commentdate,children:new Date(comment.data_criacao).toLocaleDateString('pt-BR',{year:'numeric',month:'long',day:'numeric'})})]},index)):/*#__PURE__*/_jsx(\"p\",{className:styles.nocomments,children:\"Nenhum coment\\xE1rio dispon\\xEDvel.\"})})]})]}),/*#__PURE__*/_jsx(Cadastro,{isOpen:isCadastroOpen,onClose:()=>setIsCadastroOpen(false)}),/*#__PURE__*/_jsx(Footer,{})]});};export default FeedTribunais;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","axios","Star","StarHalf","styles","Header","Footer","Cadastro","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","FeedTribunais","id_tribunal","comments","setComments","isCadastroOpen","setIsCadastroOpen","averageRatings","setAverageRatings","av_eficiencia","av_qualidade","av_infraestrutura","av_tecnologia","av_gestao","av_transparencia","av_sustentabilidade","weightedAverage","setWeightedAverage","tribunalData","setTribunalData","ratingStats","setRatingStats","weighted","selectedCategory","setSelectedCategory","filteredRating","setFilteredRating","ratingCategories","name","weight","calculateWeightedRating","data","weightedSum","totalWeight","Object","entries","forEach","_ref","category","fetchComments","fetchTribunalData","fetchWeightedAverage","res","get","rating","media_ponderada","parseFloat","error","console","commentsData","calculateRatingStats","calculateAverageRatings","newStats","keys","stats","comment","Math","floor","undefined","weightedStats","weightedRating","roundedRating","sums","counts","averages","getImagemUrl","imagem","startsWith","RatingBar","_ref2","count","totalReviews","percentage","className","ratingbar","onClick","style","cursor","children","ratingnumber","progressbar","progressfill","width","ratingcount","RatingStars","_ref3","ratingNumber","fullStars","hasHalfStar","ratingstars","Array","map","_","i","starfilled","starhalf","starempty","getDisplayedRating","toFixed","CategorySelector","categorySelector","value","onChange","e","target","categorySelect","filter","_ref4","key","_ref5","length","filteredComments","feedcontainer","feedheader","maintitle","nome","tribunalinfo","tribunalimagecontainer","src","alt","tribunalimage","noimageplacement","tribunaldetails","addressinfo","addresstitle","addresstext","endereco","cidade","estado","cep","tribunaldescription","descricao","ratingscard","ratingsoverview","averageratingcontainer","hugerating","totalreviews","toLocaleString","ratingdistribution","feedbackbuttoncontainer","feedbackbutton","commentssection","commentstitle","clearfilter","commentslist","index","commentcard","commentheader","commentuser","useravatar","toUpperCase","id_usuario","username","ratinginfo","ratingcategory","commenttext","comentario","commentdate","Date","data_criacao","toLocaleDateString","year","month","day","nocomments","isOpen","onClose"],"sources":["C:/Users/vinic/OneDrive/Área de Trabalho/React project/justix/src/pages/Home/FTribunais/FeedTribunais.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Star, StarHalf } from 'lucide-react';\r\nimport styles from \"../../Home/FTribunais/Feed.module.css\";\r\nimport Header from \"../../../components/Header\";\r\nimport Footer from \"../../../components/Footer/index\";\r\nimport Cadastro from '../../Cadastro';\r\n\r\nconst API_BASE_URL = 'http://localhost:3001';\r\n\r\nconst FeedTribunais = () => {\r\n    const { id_tribunal } = useParams();\r\n    const [comments, setComments] = useState([]);\r\n    const [isCadastroOpen, setIsCadastroOpen] = useState(false);\r\n    const [averageRatings, setAverageRatings] = useState({\r\n        av_eficiencia: 0,\r\n        av_qualidade: 0,\r\n        av_infraestrutura: 0,\r\n        av_tecnologia: 0,\r\n        av_gestao: 0,\r\n        av_transparencia: 0,\r\n        av_sustentabilidade: 0\r\n    });\r\n    const [weightedAverage, setWeightedAverage] = useState(0);\r\n    const [tribunalData, setTribunalData] = useState(null);\r\n    const [ratingStats, setRatingStats] = useState({\r\n        weighted: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_eficiencia: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_qualidade: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_infraestrutura: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_tecnologia: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_gestao: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_transparencia: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 },\r\n        av_sustentabilidade: { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 }\r\n    });\r\n    const [selectedCategory, setSelectedCategory] = useState('weighted');\r\n    const [filteredRating, setFilteredRating] = useState(null);\r\n\r\n    const ratingCategories = {\r\n        weighted: { name: 'Média', weight: 0 },\r\n        av_eficiencia: { name: 'Eficiência', weight: 5 },\r\n        av_qualidade: { name: 'Qualidade', weight: 4 },\r\n        av_infraestrutura: { name: 'Infraestrutura', weight: 3 },\r\n        av_tecnologia: { name: 'Tecnologia', weight: 3 },\r\n        av_gestao: { name: 'Gestão', weight: 2 },\r\n        av_transparencia: { name: 'Transparência', weight: 2 },\r\n        av_sustentabilidade: { name: 'Sustentabilidade', weight: 1 }\r\n    };\r\n\r\n    const calculateWeightedRating = (data) => {\r\n        let weightedSum = 0;\r\n        let totalWeight = 0;\r\n\r\n        Object.entries(ratingCategories).forEach(([category, { weight }]) => {\r\n            if (category !== 'weighted' && data[category]) {\r\n                weightedSum += data[category] * weight;\r\n                totalWeight += weight;\r\n            }\r\n        });\r\n\r\n        return totalWeight > 0 ? weightedSum / totalWeight : 0;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (id_tribunal) {\r\n            fetchComments();\r\n            fetchTribunalData();\r\n            fetchWeightedAverage();\r\n        }\r\n    }, [id_tribunal]);\r\n\r\n    const fetchWeightedAverage = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/tribunais_avaliacao/${id_tribunal}`);\r\n            const rating = res.data.media_ponderada ? parseFloat(res.data.media_ponderada) : 0;\r\n            setWeightedAverage(rating);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar média ponderada:', error);\r\n            setWeightedAverage(0);\r\n        }\r\n    };\r\n\r\n    const fetchComments = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/av_tribunais/${id_tribunal}`);\r\n            const commentsData = res.data;\r\n\r\n            setComments(commentsData);\r\n            calculateRatingStats(commentsData);\r\n            calculateAverageRatings(commentsData);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar comentários:', error);\r\n        }\r\n    };\r\n\r\n    const calculateRatingStats = (commentsData) => {\r\n        const newStats = { ...ratingStats };\r\n        \r\n        // Calcula stats para categorias normais\r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                const stats = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n                commentsData.forEach(comment => {\r\n                    const rating = Math.floor(comment[category]);\r\n                    if (stats[rating] !== undefined) {\r\n                        stats[rating]++;\r\n                    }\r\n                });\r\n                newStats[category] = stats;\r\n            }\r\n        });\r\n    \r\n        // Calcula stats para weighted\r\n        const weightedStats = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n        commentsData.forEach(comment => {\r\n            const weightedRating = calculateWeightedRating(comment);\r\n            const roundedRating = Math.floor(weightedRating);\r\n            if (weightedStats[roundedRating] !== undefined) {\r\n                weightedStats[roundedRating]++;\r\n            }\r\n        });\r\n        newStats.weighted = weightedStats;\r\n    \r\n        setRatingStats(newStats);\r\n    };\r\n\r\n    const calculateAverageRatings = (commentsData) => {\r\n        const sums = {};\r\n        const counts = {};\r\n        \r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                sums[category] = 0;\r\n                counts[category] = 0;\r\n            }\r\n        });\r\n\r\n        commentsData.forEach(comment => {\r\n            Object.keys(ratingCategories).forEach(category => {\r\n                if (category !== 'weighted' && comment[category]) {\r\n                    sums[category] += comment[category];\r\n                    counts[category]++;\r\n                }\r\n            });\r\n        });\r\n\r\n        const averages = {};\r\n        Object.keys(ratingCategories).forEach(category => {\r\n            if (category !== 'weighted') {\r\n                averages[category] = counts[category] > 0 ? \r\n                    sums[category] / counts[category] : 0;\r\n            }\r\n        });\r\n\r\n        setAverageRatings(averages);\r\n    };\r\n\r\n    const fetchTribunalData = async () => {\r\n        try {\r\n            const res = await axios.get(`${API_BASE_URL}/tribunais/${id_tribunal}`);\r\n            setTribunalData(res.data);\r\n        } catch (error) {\r\n            console.error('Erro ao buscar dados do tribunal:', error);\r\n        }\r\n    };\r\n\r\n    const getImagemUrl = (imagem) => {\r\n        if (!imagem) return null;\r\n        if (imagem.startsWith('/uploads/tribunais/')) {\r\n            return `${API_BASE_URL}${imagem}`;\r\n        }\r\n        return `${API_BASE_URL}/uploads/tribunais/${imagem}`;\r\n    };\r\n\r\n    const RatingBar = ({ rating, count, totalReviews }) => {\r\n        const percentage = totalReviews > 0 ? (count / totalReviews) * 100 : 0;\r\n        return (\r\n            <div\r\n                className={styles.ratingbar}\r\n                onClick={() => setFilteredRating(rating)}\r\n                style={{ cursor: 'pointer' }}\r\n            >\r\n                <span className={styles.ratingnumber}>{rating}</span>\r\n                <div className={styles.progressbar}>\r\n                    <div\r\n                        className={styles.progressfill}\r\n                        style={{ width: `${percentage}%` }}\r\n                    />\r\n                </div>\r\n                <span className={styles.ratingcount}>{count}</span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const RatingStars = ({ rating }) => {\r\n        const ratingNumber = parseFloat(rating) || 0;\r\n        const fullStars = Math.floor(ratingNumber);\r\n        const hasHalfStar = ratingNumber % 1 >= 0.5;\r\n\r\n        return (\r\n            <div className={styles.ratingstars}>\r\n                {[...Array(fullStars)].map((_, i) => (\r\n                    <Star key={i} className={styles.starfilled} />\r\n                ))}\r\n                {hasHalfStar && <StarHalf className={styles.starhalf} />}\r\n                {[...Array(5 - fullStars - (hasHalfStar ? 1 : 0))].map((_, i) => (\r\n                    <Star key={`empty-${i}`} className={styles.starempty} />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getDisplayedRating = () => {\r\n        if (selectedCategory === 'weighted') {\r\n            return calculateWeightedRating(averageRatings).toFixed(1);\r\n        }\r\n        return averageRatings[selectedCategory].toFixed(1);\r\n    };\r\n\r\n    const CategorySelector = () => (\r\n        <div className={styles.categorySelector}>\r\n            <select \r\n                value={selectedCategory}\r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className={styles.categorySelect}\r\n            >\r\n                <option value=\"weighted\">\r\n                    Média\r\n                </option>\r\n                {Object.entries(ratingCategories)\r\n                    .filter(([key]) => key !== 'weighted')\r\n                    .map(([key, { name, weight }]) => (\r\n                        <option key={key} value={key}>\r\n                            {name} (Peso {weight})\r\n                        </option>\r\n                    ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    const totalReviews = comments.length;\r\n    const filteredComments = filteredRating\r\n        ? comments.filter(comment => {\r\n            if (selectedCategory === 'weighted') {\r\n                const weightedRating = calculateWeightedRating(comment);\r\n                return Math.floor(weightedRating) === filteredRating;\r\n            }\r\n            return comment[selectedCategory] && \r\n                Math.floor(comment[selectedCategory]) === filteredRating;\r\n        })\r\n        : comments;\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <div className={styles.feedcontainer}>\r\n                <div className={styles.feedheader}>\r\n                    {tribunalData && (\r\n                        <h1 className={styles.maintitle}>{tribunalData.nome}</h1>\r\n                    )}\r\n                </div>\r\n\r\n                {tribunalData && (\r\n                    <div className={styles.tribunalinfo}>\r\n                        <div className={styles.tribunalimagecontainer}>\r\n                            {tribunalData.imagem ? (\r\n                                <img\r\n                                    src={getImagemUrl(tribunalData.imagem)}\r\n                                    alt={tribunalData.nome}\r\n                                    className={styles.tribunalimage}\r\n                                />\r\n                            ) : (\r\n                                <div className={styles.noimageplacement}>\r\n                                    Sem imagem disponível\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className={styles.tribunaldetails}>\r\n                            <div className={styles.addressinfo}>\r\n                                <h3 className={styles.addresstitle}>Informações de Localização</h3>\r\n                                <p className={styles.addresstext}>\r\n                                    {tribunalData.endereco}\r\n                                    <br />\r\n                                    {tribunalData.cidade} - {tribunalData.estado}\r\n                                    <br />\r\n                                    CEP: {tribunalData.cep}\r\n                                </p>\r\n                            </div>\r\n                            <p className={styles.tribunaldescription}>{tribunalData.descricao}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className={styles.ratingscard}>\r\n                    <CategorySelector />\r\n                    <div className={styles.ratingsoverview}>\r\n                        <div className={styles.averageratingcontainer}>\r\n                            <div className={styles.hugerating}>\r\n                                {getDisplayedRating()}\r\n                            </div>\r\n                            <RatingStars rating={\r\n                                selectedCategory === 'weighted' \r\n                                    ? calculateWeightedRating(averageRatings)\r\n                                    : averageRatings[selectedCategory]\r\n                            } />\r\n                            <div className={styles.totalreviews}>\r\n                                {totalReviews.toLocaleString()} avaliações\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.ratingdistribution}>\r\n                            {[5, 4, 3, 2, 1].map(rating => (\r\n                                <RatingBar\r\n                                    key={rating}\r\n                                    rating={rating}\r\n                                    count={ratingStats[selectedCategory][rating]}\r\n                                    totalReviews={totalReviews}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.feedbackbuttoncontainer}>\r\n                <Link \r\n            onClick={() => setIsCadastroOpen(true)}\r\n            className={styles.feedbackbutton}\r\n          >\r\n            Realizar seu Feedback\r\n          </Link>\r\n                    \r\n                </div>\r\n\r\n                <div className={styles.commentssection}>\r\n                    <h2 className={styles.commentstitle}>Comentários e Avaliações</h2>\r\n\r\n                    {filteredRating && (\r\n                        <div className={styles.clearfilter}>\r\n                            <button onClick={() => setFilteredRating(null)}>\r\n                                Limpar filtro\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className={styles.commentslist}>\r\n                        {filteredComments.length > 0 ? (\r\n                            filteredComments.map((comment, index) => (\r\n                                <div key={index} className={styles.commentcard}>\r\n                                    <div className={styles.commentheader}>\r\n                                        <div className={styles.commentuser}>\r\n                                            <div className={styles.useravatar}>\r\n                                                {comment.nome ? comment.nome[0].toUpperCase() : \r\n                                                    `${comment.id_usuario}`}\r\n                                            </div>\r\n                                            <span className={styles.username}>\r\n                                                {comment.nome || `anonimo${comment.id_usuario}`}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className={styles.ratinginfo}>\r\n                                            <span className={styles.ratingcategory}>\r\n                                                {ratingCategories[selectedCategory].name}:\r\n                                            </span>\r\n                                            <RatingStars rating={\r\n                                                selectedCategory === 'weighted' \r\n                                                    ? calculateWeightedRating(comment)\r\n                                                    : comment[selectedCategory]\r\n                                            } />\r\n                                        </div>\r\n                                    </div>\r\n                                    <p className={styles.commenttext}>{comment.comentario}</p>\r\n                                    <div className={styles.commentdate}>\r\n                                        {new Date(comment.data_criacao).toLocaleDateString('pt-BR', {\r\n                                            year: 'numeric',\r\n                                            month: 'long',\r\n                                            day: 'numeric'\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p className={styles.nocomments}>Nenhum comentário disponível.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Cadastro \r\n        isOpen={isCadastroOpen}\r\n        onClose={() => setIsCadastroOpen(false)}\r\n      />\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FeedTribunais;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}